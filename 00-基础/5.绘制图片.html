<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>绘制图片</title>
    <style>
        canvas {
    border: 1px solid black;
}
    </style>
</head>
<body>
    <img src="./image/js.jpg" alt="" width="300"><br>
    <canvas id="drawing" width="400" height="400">a drawing of something</canvas>

    <script>
        //获取canvas对象
        var drawing = document.getElementById('drawing')
        //检查getContext方法是否存在
        if(!drawing.getContext){};

        //2D上下文
        var ctx = drawing.getContext("2d")

        // 1 由零开始创建图片,可以在 canvas 上直接绘制图片。
        // var img = new Image();   // 创建img元素
        // img.onload = function(){
        //     ctx.drawImage(img, 0, 0)
        // }
        // img.src = './image/js.jpg'; // 设置图片源地址


        // 2 绘制 img 标签元素中的图片----drawImage
        var img = document.querySelector("img");
        // setTimeout(()=>{
        //     ctx.drawImage(img, 0, 0);  //需要等待图片加载完成
        // },2000)


        // 3 缩放图片
        // drawImage(image, x, y, width, height)
        // ​这个方法多了 2 个参数：width 和 height，这两个参数用来控制 当像 canvas 画入时应该缩放的大小。
        // setTimeout(()=>{
        //     ctx.drawImage(img, 0, 0,400,200);  //需要等待图片加载完成
        // },2000)
        

        // 4 切片(slice)
        // drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight)
        // 第一个参数和其它的是相同的，都是一个图像或者另一个 canvas 的引用。
        // 其他 8 个参数：
        // 前 4 个是定义图像源的切片位置和大小，后 4 个则是定义切片的目标显示位置和大小
        setTimeout(()=>{
            ctx.drawImage(img, 150, 0,150,150,0,0,150,150);  //需要等待图片加载完成
        },2000)

    </script>
</body>
</html>